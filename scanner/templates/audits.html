{% extends "layout.html" %}
{% block content %}

<!-- <div class="search-box">

  <form>   
    <input type="search" class="search-input form-control mr-sm-2" placeholder="Search your Audit" name="q">
    <button class="btn" style="color: rgb(241, 168, 59); border-color: rgb(59, 153, 241); font-size: 1.7rem; margin-top: -0.4rem;" type="submit">Search</button>
  </form>
</div>



  <div class="btn-group sort-box">
  <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: rgb(150, 30, 219); border-color:rgb(150, 30, 219); font-size: 1.7rem;">
    Filter Audits
  </button>
  <div class="dropdown-menu">
    <form>   
      <input class="btn dropdown-item report" type="submit" value="Scanned" name="q" style="margin-left: 1rem; font-size: 1.5rem;">
      <input class="btn dropdown-item report" type="submit" value="Scanning" name="q" style="margin-left: 1rem; font-size: 1.5rem;">
      <input class="btn dropdown-item report" type="submit" value="Not Started" name="q" style="margin-left: 1rem; font-size: 1.5rem;">
  </form>
  </div>
</div>
 -->






<div class="login-box" style="width: 160rem; top: 55%;">

    

    <h1 style="color: rgb(73, 127, 226); text-align: center; margin: -2rem 0rem 2rem 0rem; font-size: 5rem;">Audits </h1>

    {% for audit in audits.items %}
    
        <div class="card">
            <div class="container">
                <a href="{{ url_for('audit', audit_name=audit.audit_name) }}">
                    {% if audit.audit_name|length > 12 %}
                    <h4 class="card-title" style="text-transform: capitalize; margin-top: 5px;"><b>{{ audit.audit_name[:12] }}....</b></h4>
                    {% else %}
                    <h4 class="card-title" style="text-transform: capitalize; margin-top: 5px;"><b>{{ audit.audit_name }}</b></h4>
                    {% endif %}
                </a>
                <p class="status-text"> {{ audit.status }} </p>
                {% if audit.status == 'Not started' %}
                <p class="dot" style="background-color: rgb(41, 154, 230); width: 12px; height: 12px;"></p>
                {% elif audit.status == 'Scanning' %}
                <p class="dot" style="background-color: rgb(230, 148, 41); width: 12px; height: 12px;"></p>
                {% elif audit.status == 'Failed' %}
                <p class="dot" style="background-color: rgb(230, 41, 41); width: 12px; height: 12px;"></p>
                {% elif audit.status == 'Scanned' %}
                <p class="dot" style="background-color: rgb(29, 243, 22); width: 12px; height: 12px;"></p>
                {% endif %}
                <p style="text-align: right; margin-top: -2rem;">{{ audit.audit_date.strftime('%d %b, %Y') }}</p>
            </div>
        </div>
   
    {% endfor %}
 
</div>
<div class="paging">
{% for page_num in audits.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
{% if page_num %}
  {% if audits.page == page_num %}
    <a class="btn btn-info mb-4" style="left: 100rem; font-size: 1.7rem;" href="{{ url_for('audits', page=page_num) }}">{{ page_num }}</a>
  {% else %}
    <a class="btn btn-outline-info mb-4" style="font-size: 1.7rem;;" href="{{ url_for('audits', page=page_num) }}">{{ page_num }}</a>
  {% endif %}
{% else %}
  ...
{% endif %}
{% endfor %} 
</div>
{% endblock content %} 